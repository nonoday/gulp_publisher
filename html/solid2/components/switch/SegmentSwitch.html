<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SegmentSwitch Web Component</title>
    <style>
        .sv-segment-switch {
            position: relative;
            display: inline-flex;
            font-family: "Digital One", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            padding: 8px;
            gap: 4px;
            border-radius: 12px;
            background-color: #f3f4f6;
            transition: all 0.25s ease;
        }

        .sv-segment-switch__label {
            z-index: 2;
            display: flex;
            flex-shrink: 0;
            align-items: center;
            border-radius: 8px;
            gap: 4px;
            padding: 16px;
            cursor: pointer;
            user-select: none;
            transition: all 0.2s ease;
        }

        .sv-segment-switch__label__text {
            color: #9ca3af;
            display: inline-flex;
            font-weight: 400;
            white-space: nowrap;
        }

        .sv-segment-switch__label--checked .sv-segment-switch__label__text {
            color: #111827;
            font-weight: 500;
        }

        .sv-segment-switch__thumb {
            position: absolute;
            z-index: 1;
            top: 8px;
            left: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            background-color: #ffffff;
            width: auto;
            height: calc(100% - 16px);
            margin-left: 8px;
            border-radius: 8px;
            box-shadow: 0 4px 16px 0 rgba(12, 17, 29, 0.06);
            transition: all 0.2s ease-in-out;
        }

        .sv-segment-switch__icon {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        /* Size Modifiers */
        .sv-segment-switch--size-l .sv-segment-switch__label {
            min-height: 48px;
            padding: 16px;
            gap: 4px;
        }

        .sv-segment-switch--size-l .sv-segment-switch__label__text {
            padding: 0 8px;
            font-size: 16px;
            letter-spacing: -0.01em;
            line-height: 1.5;
        }

        .sv-segment-switch--size-m .sv-segment-switch__label {
            min-height: 40px;
            padding: 8px 16px;
            gap: 4px;
        }

        .sv-segment-switch--size-m .sv-segment-switch__label__text {
            padding: 0 8px;
            font-size: 16px;
            letter-spacing: -0.01em;
            line-height: 1.5;
        }

        .sv-segment-switch--size-s .sv-segment-switch__label {
            min-height: 32px;
            padding: 4px 8px;
            gap: 0;
        }

        .sv-segment-switch--size-s .sv-segment-switch__label__text {
            padding: 0 8px;
            font-size: 14px;
            letter-spacing: -0.01em;
            line-height: 1.4;
        }

        .sv-segment-switch--size-s .sv-segment-switch__icon {
            width: 20px;
            height: 20px;
        }

        .sv-segment-switch--size-xs {
            border-radius: 8px;
        }

        .sv-segment-switch--size-xs .sv-segment-switch__label {
            min-height: 28px;
            padding: 8px;
            gap: 0;
        }

        .sv-segment-switch--size-xs .sv-segment-switch__label__text {
            padding: 0 4px;
            font-size: 12px;
            letter-spacing: 0;
            line-height: 1.3;
        }

        .sv-segment-switch--size-xs .sv-segment-switch__icon {
            width: 16px;
            height: 16px;
        }

        /* ì ‘ê·¼ì„±ì„ ìœ„í•œ í¬ì»¤ìŠ¤ ìŠ¤íƒ€ì¼ */
        .sv-segment-switch__label:focus-visible {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
            border-radius: 8px;
        }

        /* ê³ ëŒ€ë¹„ ëª¨ë“œ ì§€ì› */
        @media (prefers-contrast: high) {
            .sv-segment-switch {
                border: 2px solid currentColor;
            }
            .sv-segment-switch__thumb {
                border: 2px solid currentColor;
            }
        }

        /* ëª¨ì…˜ ê°ì†Œ ì§€ì› */
        @media (prefers-reduced-motion: reduce) {
            .sv-segment-switch,
            .sv-segment-switch__thumb,
            .sv-segment-switch__label {
                transition: none;
            }
        }

        /* ìŠ¤í¬ë¦° ë¦¬ë” ì „ìš© í…ìŠ¤íŠ¸ */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>
<body>
    <script>
        class SegmentSwitchComponent extends HTMLElement {
            constructor() {
                super();
                this.attachShadow({ mode: 'open' });
                this._labels = [];
                this._icons = [];
                this._size = 'medium';
                this._name = '';
                this._value = false;
                this._id = `segment-switch-${Math.random().toString(36).substr(2, 9)}`;
                this._labelRefs = [];
                this._widths = [];
            }

            static get observedAttributes() {
                return ['labels', 'icons', 'size', 'name', 'value'];
            }

            connectedCallback() {
                this.render();
                this.setupAccessibility();
                this.setupEventListeners();
                this.setLabelWidth();
            }

            attributeChangedCallback(name, oldValue, newValue) {
                if (oldValue !== newValue) {
                    this.updateAttribute(name, newValue);
                    this.render();
                    this.setupAccessibility();
                    this.setLabelWidth();
                }
            }

            updateAttribute(name, value) {
                switch (name) {
                    case 'labels':
                        try {
                            this._labels = value ? JSON.parse(value) : [];
                        } catch (e) {
                            this._labels = [];
                        }
                        break;
                    case 'icons':
                        try {
                            this._icons = value ? JSON.parse(value) : [];
                        } catch (e) {
                            this._icons = [];
                        }
                        break;
                    case 'size':
                        this._size = value || 'medium';
                        break;
                    case 'name':
                        this._name = value || '';
                        break;
                    case 'value':
                        this._value = value === 'true' || value === '';
                        break;
                }
            }

            render() {
                const switchClasses = this.getSwitchClasses();
                const selectedIndex = this._value ? 1 : 0;

                this.shadowRoot.innerHTML = `
                    <style>
                        :host { display: inline-block; }
                        .sv-segment-switch {
                            position: relative;
                            display: inline-flex;
                            font-family: "Digital One", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
                            padding: 8px;
                            gap: 4px;
                            border-radius: 12px;
                            background-color: #f3f4f6;
                            transition: all 0.25s ease;
                        }
                        .sv-segment-switch__label {
                            z-index: 2;
                            display: flex;
                            flex-shrink: 0;
                            align-items: center;
                            border-radius: 8px;
                            gap: 4px;
                            padding: 16px;
                            cursor: pointer;
                            user-select: none;
                            transition: all 0.2s ease;
                        }
                        .sv-segment-switch__label__text {
                            color: #9ca3af;
                            display: inline-flex;
                            font-weight: 400;
                            white-space: nowrap;
                        }
                        .sv-segment-switch__label--checked .sv-segment-switch__label__text {
                            color: #111827;
                            font-weight: 500;
                        }
                        .sv-segment-switch__thumb {
                            position: absolute;
                            z-index: 1;
                            top: 8px;
                            left: 8px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            flex-shrink: 0;
                            background-color: #ffffff;
                            width: auto;
                            height: calc(100% - 16px);
                            margin-left: 8px;
                            border-radius: 8px;
                            box-shadow: 0 4px 16px 0 rgba(12, 17, 29, 0.06);
                            transition: all 0.2s ease-in-out;
                        }
                        .sv-segment-switch__icon {
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            flex-shrink: 0;
                        }
                        .sv-segment-switch--size-l .sv-segment-switch__label {
                            min-height: 48px;
                            padding: 16px;
                            gap: 4px;
                        }
                        .sv-segment-switch--size-l .sv-segment-switch__label__text {
                            padding: 0 8px;
                            font-size: 16px;
                            letter-spacing: -0.01em;
                            line-height: 1.5;
                        }
                        .sv-segment-switch--size-m .sv-segment-switch__label {
                            min-height: 40px;
                            padding: 8px 16px;
                            gap: 4px;
                        }
                        .sv-segment-switch--size-m .sv-segment-switch__label__text {
                            padding: 0 8px;
                            font-size: 16px;
                            letter-spacing: -0.01em;
                            line-height: 1.5;
                        }
                        .sv-segment-switch--size-s .sv-segment-switch__label {
                            min-height: 32px;
                            padding: 4px 8px;
                            gap: 0;
                        }
                        .sv-segment-switch--size-s .sv-segment-switch__label__text {
                            padding: 0 8px;
                            font-size: 14px;
                            letter-spacing: -0.01em;
                            line-height: 1.4;
                        }
                        .sv-segment-switch--size-s .sv-segment-switch__icon {
                            width: 20px;
                            height: 20px;
                        }
                        .sv-segment-switch--size-xs {
                            border-radius: 8px;
                        }
                        .sv-segment-switch--size-xs .sv-segment-switch__label {
                            min-height: 28px;
                            padding: 8px;
                            gap: 0;
                        }
                        .sv-segment-switch--size-xs .sv-segment-switch__label__text {
                            padding: 0 4px;
                            font-size: 12px;
                            letter-spacing: 0;
                            line-height: 1.3;
                        }
                        .sv-segment-switch--size-xs .sv-segment-switch__icon {
                            width: 16px;
                            height: 16px;
                        }
                        .sv-segment-switch__label:focus-visible {
                            outline: 2px solid #3b82f6;
                            outline-offset: 2px;
                            border-radius: 8px;
                        }
                        @media (prefers-contrast: high) {
                            .sv-segment-switch {
                                border: 2px solid currentColor;
                            }
                            .sv-segment-switch__thumb {
                                border: 2px solid currentColor;
                            }
                        }
                        @media (prefers-reduced-motion: reduce) {
                            .sv-segment-switch,
                            .sv-segment-switch__thumb,
                            .sv-segment-switch__label {
                                transition: none;
                            }
                        }
                    </style>
                    
                    <div 
                        class="sv-segment-switch ${switchClasses}"
                        role="switch"
                        aria-checked="${this._value}"
                        aria-labelledby="${this._id}-label"
                        tabindex="0"
                        ${this._name ? `aria-label="ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜: ${this._labels.join(' ë˜ëŠ” ')}"` : ''}
                    >
                        <span 
                            id="${this._id}-label"
                            class="sr-only"
                        >
                            ${this._labels.length > 0 ? this._labels.join(' ë˜ëŠ” ') : 'ìŠ¤ìœ„ì¹˜'}
                        </span>

                        ${Array(2).fill(null).map((_, i) => this.renderLabel(i, selectedIndex)).join('')}

                        <div 
                            class="sv-segment-switch__thumb"
                            style="${this.getThumbStyles(selectedIndex)}"
                        ></div>
                    </div>
                `;

                // ë¼ë²¨ ì°¸ì¡° ì €ì¥
                this._labelRefs = this.shadowRoot.querySelectorAll('.sv-segment-switch__label');
            }

            renderLabel(index, selectedIndex) {
                const label = this._labels[index] || '';
                const icon = this._icons[index] || '';
                const isChecked = index === selectedIndex;
                const labelClasses = this.getLabelClasses(index, selectedIndex);

                return `
                    <span 
                        class="sv-segment-switch__label ${labelClasses}"
                        data-index="${index}"
                        role="button"
                        tabindex="${isChecked ? '0' : '-1'}"
                        aria-pressed="${isChecked}"
                        ${label ? `aria-label="${label}"` : ''}
                    >
                        ${icon ? `<span class="sv-segment-switch__icon">${this.getIconEmoji(icon)}</span>` : ''}
                        ${label ? `<span class="sv-segment-switch__label__text">${label}</span>` : ''}
                    </span>
                `;
            }

            getIconEmoji(iconName) {
                // ì•„ì´ì½˜ ì´ë¦„ì„ ì´ëª¨ì§€ë¡œ ë³€í™˜ (ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” SVGë‚˜ ì•„ì´ì½˜ í°íŠ¸ ì‚¬ìš©)
                const iconMap = {
                    'check': 'âœ“',
                    'close': 'âœ•',
                    'edit': 'âœï¸',
                    'delete': 'ğŸ—‘ï¸',
                    'add': 'â•',
                    'remove': 'â–',
                    'play': 'â–¶ï¸',
                    'pause': 'â¸ï¸',
                    'stop': 'â¹ï¸',
                    'settings': 'âš™ï¸',
                    'home': 'ğŸ ',
                    'search': 'ğŸ”',
                    'user': 'ğŸ‘¤',
                    'notification': 'ğŸ””',
                    'star': 'â­',
                    'heart': 'â¤ï¸',
                    'like': 'ğŸ‘',
                    'dislike': 'ğŸ‘'
                };
                return iconMap[iconName] || 'â—';
            }

            getSwitchClasses() {
                const classes = ['sv-segment-switch'];
                
                if (this._size) {
                    classes.push(`sv-segment-switch--size-${this._size}`);
                }
                
                return classes.join(' ');
            }

            getLabelClasses(index, selectedIndex) {
                const classes = ['sv-segment-switch__label'];
                
                if (index === selectedIndex) {
                    classes.push('sv-segment-switch__label--checked');
                }
                
                return classes.join(' ');
            }

            getThumbStyles(selectedIndex) {
                if (this._widths.length < 2) {
                    return '';
                }

                const left = selectedIndex === 0 ? '8px' : `${this._widths[0] + 8}px`;
                const width = `${this._widths[selectedIndex]}px`;

                return `left: ${left}; width: ${width};`;
            }

            setLabelWidth() {
                // DOMì´ ë Œë”ë§ëœ í›„ ë¼ë²¨ ë„ˆë¹„ ê³„ì‚°
                setTimeout(() => {
                    this._labelRefs.forEach((label, index) => {
                        if (label) {
                            const rect = label.getBoundingClientRect();
                            this._widths[index] = rect.width;
                        }
                    });
                    
                    // thumb ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
                    this.updateThumbStyles();
                }, 0);
            }

            updateThumbStyles() {
                const thumb = this.shadowRoot.querySelector('.sv-segment-switch__thumb');
                if (thumb) {
                    const selectedIndex = this._value ? 1 : 0;
                    thumb.style.cssText = this.getThumbStyles(selectedIndex);
                }
            }

            setupAccessibility() {
                const switchElement = this.shadowRoot.querySelector('.sv-segment-switch');
                const labels = this.shadowRoot.querySelectorAll('.sv-segment-switch__label');
                
                if (switchElement) {
                    switchElement.setAttribute('aria-checked', this._value.toString());
                    
                    if (this._labels.length > 0) {
                        const labelText = this._labels.join(' ë˜ëŠ” ');
                        switchElement.setAttribute('aria-label', `ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜: ${labelText}`);
                    }
                }
                
                labels.forEach((label, index) => {
                    const isChecked = index === (this._value ? 1 : 0);
                    label.setAttribute('aria-pressed', isChecked.toString());
                    label.setAttribute('tabindex', isChecked ? '0' : '-1');
                });
            }

            setupEventListeners() {
                const switchElement = this.shadowRoot.querySelector('.sv-segment-switch');
                const labels = this.shadowRoot.querySelectorAll('.sv-segment-switch__label');
                
                if (switchElement) {
                    switchElement.addEventListener('keydown', (e) => this.handleSwitchKeydown(e));
                }
                
                labels.forEach((label, index) => {
                    label.addEventListener('click', (e) => this.handleLabelClick(e, index));
                    label.addEventListener('keydown', (e) => this.handleLabelKeydown(e, index));
                });
            }

            handleSwitchKeydown(event) {
                switch (event.key) {
                    case 'Enter':
                    case ' ':
                        event.preventDefault();
                        this.toggleValue();
                        break;
                    case 'ArrowLeft':
                        event.preventDefault();
                        if (this._value) {
                            this._value = false;
                            this.updateSwitch();
                        }
                        break;
                    case 'ArrowRight':
                        event.preventDefault();
                        if (!this._value) {
                            this._value = true;
                            this.updateSwitch();
                        }
                        break;
                }
            }

            handleLabelClick(event, index) {
                const newValue = index === 1;
                if (this._value !== newValue) {
                    this._value = newValue;
                    this.updateSwitch();
                }
            }

            handleLabelKeydown(event, index) {
                if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault();
                    this.handleLabelClick(event, index);
                }
            }

            toggleValue() {
                this._value = !this._value;
                this.updateSwitch();
            }

            updateSwitch() {
                // ì†ì„± ì—…ë°ì´íŠ¸
                this.setAttribute('value', this._value.toString());
                
                // ë¼ë²¨ ìƒíƒœ ì—…ë°ì´íŠ¸
                this.updateLabelStates();
                
                // thumb ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
                this.updateThumbStyles();
                
                // ì ‘ê·¼ì„± ì†ì„± ì—…ë°ì´íŠ¸
                this.setupAccessibility();
                
                // ì´ë²¤íŠ¸ ë°œìƒ
                this.dispatchEvent(new CustomEvent('segment-switch-change', {
                    detail: { value: this._value }
                }));

                // change ì´ë²¤íŠ¸ë„ ë°œìƒ
                this.dispatchEvent(new CustomEvent('change', {
                    detail: { value: this._value }
                }));
            }

            updateLabelStates() {
                const labels = this.shadowRoot.querySelectorAll('.sv-segment-switch__label');
                const selectedIndex = this._value ? 1 : 0;
                
                labels.forEach((label, index) => {
                    const isChecked = index === selectedIndex;
                    
                    // í´ë˜ìŠ¤ ì—…ë°ì´íŠ¸
                    if (isChecked) {
                        label.classList.add('sv-segment-switch__label--checked');
                    } else {
                        label.classList.remove('sv-segment-switch__label--checked');
                    }
                    
                    // tabindex ì—…ë°ì´íŠ¸
                    label.setAttribute('tabindex', isChecked ? '0' : '-1');
                });
            }

            // Getters and setters
            get labels() { return this._labels; }
            set labels(value) { this._labels = Array.isArray(value) ? value : []; this.setAttribute('labels', JSON.stringify(this._labels)); }
            
            get icons() { return this._icons; }
            set icons(value) { this._icons = Array.isArray(value) ? value : []; this.setAttribute('icons', JSON.stringify(this._icons)); }
            
            get size() { return this._size; }
            set size(value) { this._size = value; this.setAttribute('size', value); }
            
            get name() { return this._name; }
            set name(value) { this._name = value; this.setAttribute('name', value); }
            
            get value() { return this._value; }
            set value(value) { this._value = value === 'true' || value === ''; this.setAttribute('value', value); this.updateSwitch(); }
        }

        customElements.define('sv-segment-switch', SegmentSwitchComponent);
    </script>

    <h2>SegmentSwitch ì›¹ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ì˜ˆì‹œ</h2>
    
    <h3>ê¸°ë³¸ ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜</h3>
    <sv-segment-switch
        name="basic"
        labels='["ì¼œê¸°", "ë„ê¸°"]'
    ></sv-segment-switch>

    <h3>ì•„ì´ì½˜ì´ ìˆëŠ” ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜</h3>
    <sv-segment-switch
        name="with-icons"
        labels='["í¸ì§‘", "ì‚­ì œ"]'
        icons='["edit", "delete"]'
    ></sv-segment-switch>

    <h3>ë‹¤ì–‘í•œ í¬ê¸°ì˜ ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜</h3>
    <div style="display: flex; flex-direction: column; gap: 20px;">
        <div>
            <label>Extra Small:</label>
            <sv-segment-switch
                name="xs"
                size="xs"
                labels='["A", "B"]'
            ></sv-segment-switch>
        </div>
        
        <div>
            <label>Small:</label>
            <sv-segment-switch
                name="s"
                size="s"
                labels='["ON", "OFF"]'
            ></sv-segment-switch>
        </div>
        
        <div>
            <label>Medium:</label>
            <sv-segment-switch
                name="m"
                size="m"
                labels='["ì˜ˆ", "ì•„ë‹ˆì˜¤"]'
            ></sv-segment-switch>
        </div>
        
        <div>
            <label>Large:</label>
            <sv-segment-switch
                name="l"
                size="l"
                labels='["ì‹œì‘", "ì •ì§€"]'
                icons='["play", "stop"]'
            ></sv-segment-switch>
        </div>
    </div>

    <h3>ì ‘ê·¼ì„±ì„ ìœ„í•œ ë¼ë²¨ì´ ìˆëŠ” ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜</h3>
    <div>
        <label id="switch-label">ì•Œë¦¼ ì„¤ì •:</label>
        <sv-segment-switch
            name="notifications"
            labels='["ì¼œê¸°", "ë„ê¸°"]'
            icons='["notification", "close"]'
            aria-labelledby="switch-label"
        ></sv-segment-switch>
    </div>

    <h3>ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸</h3>
    <p>í‚¤ë³´ë“œë¡œ íƒìƒ‰í•´ë³´ì„¸ìš”:</p>
    <ul>
        <li>Tab í‚¤ë¡œ ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜ì— í¬ì»¤ìŠ¤</li>
        <li>í™”ì‚´í‘œ í‚¤ë¡œ ì˜µì…˜ ê°„ ì´ë™</li>
        <li>Enter/Spaceë¡œ í† ê¸€</li>
        <li>ìŠ¤í¬ë¦° ë¦¬ë”ê°€ ìƒíƒœì™€ ì˜µì…˜ì„ ì½ìŒ</li>
    </ul>

    <div style="margin: 20px 0;">
        <label id="test-label">í…ŒìŠ¤íŠ¸ìš© ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜:</label>
        <sv-segment-switch
            name="test"
            labels='["í…ŒìŠ¤íŠ¸ 1", "í…ŒìŠ¤íŠ¸ 2"]'
            icons='["check", "close"]'
        ></sv-segment-switch>
    </div>

    <script>
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì˜ˆì‹œ
        document.addEventListener('segment-switch-change', (e) => {
            console.log('ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜ ë³€ê²½ë¨:', e.detail);
        });

        document.addEventListener('change', (e) => {
            console.log('change ì´ë²¤íŠ¸ ë°œìƒ:', e.detail);
        });

        // í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜ ì œì–´
        const segmentSwitch = document.querySelector('sv-segment-switch[name="basic"]');
        if (segmentSwitch) {
            // ë™ì ìœ¼ë¡œ ì†ì„± ë³€ê²½
            setTimeout(() => {
                segmentSwitch.value = true;
                segmentSwitch.size = 'large';
            }, 3000);

            // ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜ ìƒíƒœ í™•ì¸
            console.log('ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜ ì •ë³´:', {
                labels: segmentSwitch.labels,
                icons: segmentSwitch.icons,
                size: segmentSwitch.size,
                value: segmentSwitch.value
            });
        }

        // ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ í¬ì»¤ìŠ¤ ì´ë²¤íŠ¸
        document.addEventListener('focusin', (e) => {
            if (e.target.tagName === 'SV-SEGMENT-SWITCH') {
                console.log('ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜ì— í¬ì»¤ìŠ¤ë¨');
            }
        });

        // í‚¤ë³´ë“œ ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸
        document.addEventListener('keydown', (e) => {
            if (e.target.tagName === 'SV-SEGMENT-SWITCH') {
                console.log('í‚¤ë³´ë“œ ì´ë²¤íŠ¸:', e.key);
            }
        });

        // ë™ì  ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜ ìƒì„± ì˜ˆì‹œ
        function createDynamicSegmentSwitch() {
            const container = document.createElement('div');
            container.innerHTML = `
                <h4>ë™ì ìœ¼ë¡œ ìƒì„±ëœ ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜</h4>
                <sv-segment-switch
                    name="dynamic"
                    labels='["ë™ì  1", "ë™ì  2"]'
                    size="medium"
                ></sv-segment-switch>
            `;
            document.body.appendChild(container);
        }

        // 5ì´ˆ í›„ ë™ì  ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ìœ„ì¹˜ ìƒì„±
        setTimeout(createDynamicSegmentSwitch, 5000);

        // í¼ ì œì¶œ í…ŒìŠ¤íŠ¸
        function testFormSubmission() {
            const form = document.createElement('form');
            form.innerHTML = `
                <h4>í¼ ì œì¶œ í…ŒìŠ¤íŠ¸</h4>
                <label>ë™ì˜í•˜ì‹œë‚˜ìš”?</label>
                <sv-segment-switch
                    name="form-test"
                    labels='["ì˜ˆ", "ì•„ë‹ˆì˜¤"]'
                    required
                ></sv-segment-switch>
                <button type="submit">ì œì¶œ</button>
            `;
            
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                const segmentSwitch = form.querySelector('sv-segment-switch');
                console.log('í¼ ì œì¶œë¨, ì„ íƒëœ ê°’:', segmentSwitch.value);
            });
            
            document.body.appendChild(form);
        }

        // 7ì´ˆ í›„ í¼ í…ŒìŠ¤íŠ¸ ìƒì„±
        setTimeout(testFormSubmission, 7000);

        // ìƒíƒœ ë³€ê²½ í…ŒìŠ¤íŠ¸
        function testStateChanges() {
            const switches = document.querySelectorAll('sv-segment-switch');
            switches.forEach((sw, index) => {
                setTimeout(() => {
                    sw.value = !sw.value;
                    console.log(`ìŠ¤ìœ„ì¹˜ ${index + 1} ìƒíƒœ ë³€ê²½:`, sw.value);
                }, (index + 1) * 1000);
            });
        }

        // 10ì´ˆ í›„ ìƒíƒœ ë³€ê²½ í…ŒìŠ¤íŠ¸
        setTimeout(testStateChanges, 10000);
    </script>
</body>
</html>
